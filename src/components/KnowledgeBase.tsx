import { useState } from 'react';
import { useAuth } from '@/contexts/AuthContext';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';
import { Textarea } from '@/components/ui/textarea';
import { Label } from '@/components/ui/label';
import { toast } from '@/components/ui/use-toast';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import Icon from '@/components/ui/icon';
import {
  DndContext,
  closestCenter,
  KeyboardSensor,
  PointerSensor,
  useSensor,
  useSensors,
  DragEndEvent,
} from '@dnd-kit/core';
import {
  arrayMove,
  SortableContext,
  sortableKeyboardCoordinates,
  useSortable,
  verticalListSortingStrategy,
} from '@dnd-kit/sortable';
import { CSS } from '@dnd-kit/utilities';

interface FAQItem {
  id: string;
  question: string;
  answer: string;
  category: string;
  tags: string[];
  image?: string;
  video?: string;
  views?: number;
  helpful?: number;
}

interface Category {
  id: string;
  name: string;
  icon: string;
  count: number;
  subcategories?: Category[];
}

const initialCategories: Category[] = [
  {
    id: '1',
    name: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã',
    icon: 'Info',
    count: 9
  },
  {
    id: '2',
    name: '–í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ',
    icon: 'Wrench',
    count: 5
  },
  {
    id: '3',
    name: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤',
    icon: 'Smartphone',
    count: 6
  },
  {
    id: '4',
    name: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤',
    icon: 'Laptop',
    count: 8
  },
  {
    id: '5',
    name: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£',
    icon: 'Printer',
    count: 6
  },
  {
    id: '6',
    name: '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤',
    icon: 'Tv',
    count: 5
  }
];

const initialFAQs: FAQItem[] = [
  // –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
  { id: '1', question: '–ö–∞–∫–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞?', answer: '–° –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ –ø–æ –ø—è—Ç–Ω–∏—Ü—É, —Å 9.00 –¥–æ 19.00 —á–∞—Å–æ–≤. –í —Å—É–±–±–æ—Ç—É —Å 10.00 –¥–æ 16.00 —á–∞—Å–æ–≤. –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ - –≤—ã—Ö–æ–¥–Ω–æ–π.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['—Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã', '–≥—Ä–∞—Ñ–∏–∫'] },
  { id: '2', question: '–°–∫–æ–ª—å–∫–æ –¥–µ–ª–∞–µ—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è?', answer: '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–∞–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∫–∞–∫: —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã, –ø–ª–∞–Ω—à–µ—Ç—ã ‚Äì –¥–µ–ª–∞–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–∏ 1 —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤, –Ω–æ—É—Ç–±—É–∫–æ–≤, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤, –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£ ‚Äì –¥–µ–ª–∞–µ—Ç—Å—è –æ—Ç 1 –¥–æ 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π. –ù–æ –º—ã –≤—Å–µ–≥–¥–∞ —Å—Ç–∞—Ä–∞–µ–º—Å—è —Å–¥–µ–ª–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É, –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', '—Å—Ä–æ–∫–∏'] },
  { id: '3', question: '–ü–æ—á–µ–º—É –º–∞—Å—Ç–µ—Ä –Ω–µ –æ–±—â–∞–µ—Ç—Å—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏?', answer: '–°–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É –∫–æ–º–ø–∞–Ω–∏–∏ –≤—Å–µ –æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—ã. –û–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º —Ä–µ–º–æ–Ω—Ç–∞, –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞. –ú–∞—Å—Ç–µ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–µ–º–æ–Ω—Ç –ø—Ä–∏—Ö–æ–¥—è—â–∏—Ö –∏–∑–¥–µ–ª–∏–π –≤ —Ä–µ–º–æ–Ω—Ç. –í —Å–≤—è–∑–∏ —Å –±–æ–ª—å—à–∏–º –ø–æ—Ç–æ–∫–æ–º –∑–∞–∫–∞–∑–æ–≤, –º–∞—Å—Ç–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Ä–µ–º–æ–Ω—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –æ–±—â–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–µ—Å—Ç–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∏ —Ä–µ—à–∞—Ç—å –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–∞–±–æ—Ç–æ–π —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['–º–∞—Å—Ç–µ—Ä', '–º–µ–Ω–µ–¥–∂–µ—Ä', '–æ–±—â–µ–Ω–∏–µ'] },
  { id: '4', question: '–ü–æ—á–µ–º—É —Ä–µ–º–æ–Ω—Ç –∑–∞—Ç—è–Ω—É–ª—Å—è?', answer: '–ò–Ω–æ–≥–¥–∞ –≤ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–∫—Ä—ã—Ç—ã–µ –¥–µ—Ñ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–º –æ—Å–º–æ—Ç—Ä–µ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–¥–∞ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω —Ä–µ–º–æ–Ω—Ç –∏–∑–¥–µ–ª–∏—è. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –±—ã–≤–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—Å—Ç–∞–≤–∫–∏ –¥–µ—Ç–∞–ª–µ–π –Ω–∞ –∑–∞–∫–∞–∑ –ø–æ –≤–∏–Ω–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏. –ù–∞—à–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å—Ç–∞—Ä–∞—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ—à–∞—Ç—å –≤—Å–µ –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –∞ –º–∞—Å—Ç–µ—Ä–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Ä–µ–º–æ–Ω—Ç.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['—Å—Ä–æ–∫–∏', '–∑–∞–¥–µ—Ä–∂–∫–∞'] },
  { id: '5', question: '–ï—Å–ª–∏ –ø–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–µ–º–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫–∏ –Ω–µ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–µ–Ω, –º–æ–≥—É –ª–∏ —è –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Ä–µ–º–æ–Ω—Ç–∞?', answer: '–î–∞, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ —Ä–µ–º–æ–Ω—Ç –µ—â–µ –Ω–µ –Ω–∞—á–∞—Ç. –ï—Å–ª–∏ —Ä–µ–º–æ–Ω—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω –∏ –Ω–∞—á–∞—Ç, —Ç–æ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –æ—Ç —Ä–µ–º–æ–Ω—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É –±—É–¥–µ—Ç –≤—ã—Å—Ç–∞–≤–ª–µ–Ω —Å—á–µ—Ç –∑–∞ —Ä–∞–∑–±–æ—Ä–∫—É, —Å–±–æ—Ä–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ê —Ç–∞–∫–∂–µ –º–æ–Ω—Ç–∞–∂ –∏ –¥–µ–º–æ–Ω—Ç–∞–∂ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—á–∞—Å—Ç–µ–π, —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–µ–π—Å–∫—É—Ä–∞–Ω—Ç—É.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['–æ—Ç–∫–∞–∑', '–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞'] },
  { id: '6', question: '–í–æ–∑–º–æ–∂–µ–Ω –ª–∏ —Å—Ä–æ—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –∑–∞ 1-2 —á–∞—Å–∞?', answer: '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è. –í—Å–µ –∑–∞–∫–∞–∑—ã –¥–µ–ª–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ—Ç 1 –¥–æ 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π. –ï—Å–ª–∏ –¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, —Ç–æ —Å—Ä–æ–∫–∏ —Ä–µ–º–æ–Ω—Ç–∞ —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤–æ –≤—Ä–µ–º—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞ –∏–ª–∏ –≤ –ø–∏—Å—å–º–µ–Ω–Ω–æ–º –≤–∏–¥–µ. –í —Ü–µ–ª—è—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞, –≤—Å–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['—Å—Ä–æ—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç', '—Å—Ä–æ–∫–∏'] },
  { id: '7', question: '–ó–∞—á–µ–º –≤–∞–º –º–æ–π –ø–∞—Ä–æ–ª—å –æ—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞?', answer: '–í—ã –º–æ–∂–µ—Ç–µ –Ω–µ –¥–∞–≤–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å –æ—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞. –ù–æ —Ç–æ–≥–¥–∞ –º—ã –Ω–µ —Å–º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['–ø–∞—Ä–æ–ª—å', '—Å–º–∞—Ä—Ç—Ñ–æ–Ω', '–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å'] },
  { id: '8', question: '–ü–æ—á–µ–º—É —Ç–∞–∫ –≤–∞–∂–Ω–æ –ø—Ä–∏ –∫–∞–∫–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö –ø—Ä–æ–∏–∑–æ—à–ª–∞ –ø–æ–ª–æ–º–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞?', answer: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏—á–∏–Ω–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏, –æ—á–µ–Ω—å –ø–æ–º–æ–≥–∞–µ—Ç –º–∞—Å—Ç–µ—Ä—É –ø—Ä–∏ –æ—Å–º–æ—Ç—Ä–µ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –æ—Å–º–∞—Ç—Ä–∞ –∏–∑–¥–µ–ª–∏—è –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –≤–æ–∑–º–æ–∂–Ω–æ–º —Ä–µ–º–æ–Ω—Ç–µ.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', '–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è'] },
  { id: '9', question: '–ú–æ–∂–µ—Ç –ª–∏ –¥—Ä—É–≥–æ–π —á–µ–ª–æ–≤–µ–∫ –∑–∞–±—Ä–∞—Ç—å –º–æ–π –∑–∞–∫–∞–∑?', answer: '–ù–µ—Ç, —Å –∫–ª–∏–µ–Ω—Ç–æ–º –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä –æ–∫–∞–∑–∞–Ω–∏—è —É—Å–ª—É–≥. –ö–ª–∏–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã–º –ª–∏—Ü–æ–º –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –ø–æ –¥–∞–Ω–Ω–æ–º—É –¥–æ–≥–æ–≤–æ—Ä—É. –ó–∞–∫–∞–∑ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–¥–∞–Ω –¥—Ä—É–≥–æ–º—É –ª–∏—Ü—É, —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —É –Ω–µ–≥–æ –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ–π –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.', category: '–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã', tags: ['–≤—ã–¥–∞—á–∞', '–¥–æ–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å'] },

  // –í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ
  { id: '10', question: '–ö–∞–∫–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è –Ω–∞ —Ä–µ–º–æ–Ω—Ç?', answer: '–ì–∞—Ä–∞–Ω—Ç–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, —Å—Ä–µ–¥–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 30 –¥–Ω–µ–π.', category: '–í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ', tags: ['–≥–∞—Ä–∞–Ω—Ç–∏—è'] },
  { id: '11', question: '–ü–æ—á–µ–º—É –≤—ã –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ —Å—Ç–∞—Ä—É—é –¥–µ—Ç–∞–ª—å?', answer: '–í–æ–∑–≤—Ä–∞—Ç –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ–π –¥–µ—Ç–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç—É –Ω–æ—Å–∏—Ç –∑–∞—è–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä. –î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ–π –¥–µ—Ç–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç—É –Ω—É–∂–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É –æ –≤—ã–¥–∞—á–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ–π –¥–µ—Ç–∞–ª–∏, –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤—ã–¥–∞—á–∏ –∏–∑–¥–µ–ª–∏—è –∏–∑ —Ä–µ–º–æ–Ω—Ç–∞. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–∞—è –¥–µ—Ç–∞–ª—å —É—Ç–∏–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ –ø–æ –Ω–µ–π –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è.', category: '–í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ', tags: ['–¥–µ—Ç–∞–ª–∏', '–≤–æ–∑–≤—Ä–∞—Ç'] },
  { id: '12', question: '–ü–æ—á–µ–º—É —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞ –≤—ã—Å–æ–∫–∞—è?', answer: '–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞ —Å–ª–∞–∂–∏–≤–∞–µ—Ç—Å—è –∏–∑ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∏ –¥–µ—Ç–∞–ª–∏. –ú—ã —Å—Ç–∞—Ä–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –≤ —Ä–∞–±–æ—Ç–µ. –í—ã—Å–æ–∫–∞—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –¥–∞—é—Ç –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ –∑–∞–ø—á–∞—Å—Ç–µ–π. –ü–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–µ–º–ª–µ–º–æ–π.', category: '–í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ', tags: ['—Ü–µ–Ω–∞', '—Å—Ç–æ–∏–º–æ—Å—Ç—å'] },
  { id: '13', question: '–î–æ —Ä–µ–º–æ–Ω—Ç–∞ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ –≤—Å—ë, –∞ —Å–µ–π—á–∞—Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.', answer: '–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –¥–µ—Ñ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –±–µ–∑ —Ä–∞–∑–±–æ—Ä–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –æ–Ω–∏ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –í–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ –æ—Ç–∫–∞–∑–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –º–æ–≥—É—Ç —è–≤–ª—è—Ç—å—Å—è: –∑–∞–≤–æ–¥—Å–∫–æ–π –±—Ä–∞–∫ –¥–µ—Ç–∞–ª–µ–π, –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª—å —Ç–æ–∫–æ–ø—Ä–æ–≤–æ–¥—è—â–µ–π –∂–∏–¥–∫–æ—Å—Ç–∏, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –∏–∑–¥–µ–ª–∏–µ. –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –Ω–∞—à –º–∞—Å—Ç–µ—Ä —Å–¥–µ–ª–∞–µ—Ç –æ—Å–º–æ—Ç—Ä –∏–∑–¥–µ–ª–∏—è, –∞ –Ω–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–≥–ª–∞—Å—É–µ—Ç —Å –≤–∞–º–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–º–æ–Ω—Ç–∞, –µ—Å–ª–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ.', category: '–í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ', tags: ['—Ñ—É–Ω–∫—Ü–∏–∏', '–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å'] },
  { id: '14', question: '–í—ã –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –¥–µ—Ç–∞–ª—å, –Ω–æ –æ–Ω–∞ –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é', answer: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω—ã. –í–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ –æ—Ç–∫–∞–∑–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–µ—Ç–∞–ª–∏ –º–æ–≥—É—Ç —è–≤–ª—è—Ç—å—Å—è: –∑–∞–≤–æ–¥—Å–∫–æ–π –±—Ä–∞–∫, –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª—å —Ç–æ–∫–æ–ø—Ä–æ–≤–æ–¥—è—â–µ–π –∂–∏–¥–∫–æ—Å—Ç–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª—å. –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –Ω–∞—à –º–∞—Å—Ç–µ—Ä —Å–¥–µ–ª–∞–µ—Ç –æ—Å–º–æ—Ç—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –¥–µ—Ç–∞–ª–∏. –í —Å–ª—É—á–∞–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∑–∞–≤–æ–¥—Å–∫–æ–≥–æ –±—Ä–∞–∫–∞, –¥–µ—Ç–∞–ª—å –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–∞ —Å –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–≥–æ —Å—Ä–æ–∫–∞, –≤–∫–ª—é—á–∞—è –≤—Ä–µ–º—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–º–æ–Ω—Ç–µ.', category: '–í–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ', tags: ['–≥–∞—Ä–∞–Ω—Ç–∏—è', '–¥–µ—Ç–∞–ª–∏', '–±—Ä–∞–∫'] },

  // –†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤
  { id: '15', question: '–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ? –ß—Ç–æ –¥–µ–ª–∞—Ç—å?', answer: '–í 90% —Å–ª—É—á–∞–µ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å —Å–∞–º–æ–≥–æ —ç–∫—Ä–∞–Ω–∞. –í —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç —è–≤–ª—è—Ç—å—Å—è –ø—Ä–∏—á–∏–Ω–æ–π –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤, —à–ª–µ–π—Ñ–æ–≤. –°–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ ‚Äì –∑–∞–º–µ–Ω–∞ —ç–∫—Ä–∞–Ω–∞, –∑–∞–º–µ–Ω–∞ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤ –∏ —à–ª–µ–π—Ñ–æ–≤. –¢–æ—á–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–∞—à —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –∏–∑–¥–µ–ª–∏—è.', category: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤', tags: ['—ç–∫—Ä–∞–Ω', '–¥–∏—Å–ø–ª–µ–π'] },
  { id: '16', question: '–ù–µ –∏–¥–µ—Ç –∑–∞—Ä—è–¥–∫–∞ –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–µ?', answer: '–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ —Ç–∞–∫–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç —è–≤–ª—è—Ç—å—Å—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Ä–∞–∑—ä–µ–º–∞ –∑–∞—Ä—è–¥–∫–∏, –ø–ª–∞—Ç—ã –∑–∞—Ä—è–¥–∫–∏, –º–µ–∂–ø–ª–∞—Ç–Ω–æ–≥–æ —à–ª–µ–π—Ñ–∞ –∏–ª–∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã. –°–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ ‚Äì —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç —Å –∑–∞–º–µ–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –¢–æ—á–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–∞—à —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –∏–∑–¥–µ–ª–∏—è.', category: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤', tags: ['–∑–∞—Ä—è–¥–∫–∞', '—Ä–∞–∑—ä–µ–º'] },
  { id: '17', question: '–ù–µ —Å–ª—ã—à—É –Ω–∏–∫–æ–≥–æ –ø—Ä–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–µ?', answer: '–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –¥–∏–Ω–∞–º–∏–∫ –∏–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –≤ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ.', category: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤', tags: ['–¥–∏–Ω–∞–º–∏–∫', '–∑–≤—É–∫'] },
  { id: '18', question: '–ú–µ–Ω—è –Ω–µ —Å–ª—ã—à–∏—Ç –¥—Ä—É–≥–æ–π –∞–±–æ–Ω–µ–Ω—Ç –ø—Ä–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–µ?', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏–ª–∏ –Ω–∏–∂–Ω–µ–π –ø–ª–∞—Ç—ã. –í —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã.', category: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤', tags: ['–º–∏–∫—Ä–æ—Ñ–æ–Ω', '—Å–≤—è–∑—å'] },
  { id: '19', question: '–ü–ª–∞–Ω—à–µ—Ç —Å—Ç–∞–ª –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å.', answer: '–í–æ–∑–º–æ–∂–Ω–æ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ —ç—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø—É—à–µ–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–º.', category: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤', tags: ['–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', '–ü–û'] },
  { id: '20', question: '–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞, –∫–∞–∫ –±—ã—Ç—å? –û—Å—Ç–∞–Ω—É—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ?', answer: '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø—Ä–∏ –∑–∞–º–µ–Ω–µ/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.', category: '–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤', tags: ['–ø–∞—Ä–æ–ª—å', '—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞'] },

  // –†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤
  { id: '21', question: '–ù–æ—É—Ç–±—É–∫/—Å–∏—Å—Ç–µ–º–Ω—ã–π –±–ª–æ–∫ –ø–µ—Ä–µ—Å—Ç–∞–ª –≤–∫–ª—é—á–∞—Ç—å—Å—è, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏?', answer: '–í–æ–∑–º–æ–∂–Ω–æ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω —Ä–∞–∑—ä–µ–º –∑–∞—Ä—è–¥–∫–∏. 2. –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–≤–∫–ª—é—á–µ–Ω–∏–µ', '–ø–∏—Ç–∞–Ω–∏–µ'] },
  { id: '22', question: '–ù–æ—É—Ç–±—É–∫ –ø–µ—Ä–µ—Å—Ç–∞–ª –∑–∞—Ä—è–∂–∞—Ç—å—Å—è, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏?', answer: '1. –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω —Ä–∞–∑—ä–µ–º –∑–∞—Ä—è–¥–∫–∏. 2. –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–∑–∞—Ä—è–¥–∫–∞', '–±–∞—Ç–∞—Ä–µ—è'] },
  { id: '23', question: '–ù–æ—É—Ç–±—É–∫ —Å–∏–ª—å–Ω–æ —Å—Ç–∞–ª –≥—Ä–µ—Ç—å—Å—è', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è —á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è, –∑–∞–º–µ–Ω–∞ —Ç–µ—Ä–º–æ –ø–∞—Å—Ç—ã. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–æ—É—Ç–±—É–∫–∞.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–ø–µ—Ä–µ–≥—Ä–µ–≤', '–æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ'] },
  { id: '24', question: '–ó–∞—á–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –Ω–æ—É—Ç–±—É–∫/—Å–∏—Å—Ç–µ–º–Ω—ã–π –±–ª–æ–∫ –≤–µ–¥—å –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?', answer: '–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –ª—é–±–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–∑–¥–∞–µ—Ç —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω–æ–µ –ø–æ–ª–µ –∏ –Ω–∞–≥—Ä–µ–≤–∞–µ—Ç—Å—è. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç —Å—Ä–æ–∫ —Å–ª—É–∂–±—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø–æ–ª–æ–º–∫–∏.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ', '–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞'] },
  { id: '25', question: '–ü—Ä–æ–ø–∞–ª–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ', answer: '–ü—Ä–∏—á–∏–Ω–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –º–∞—Ç—Ä–∏—Ü—ã, –ª–∏–±–æ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã –∏–ª–∏ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–¥–∏—Å–ø–ª–µ–π', '–º–∞—Ç—Ä–∏—Ü–∞'] },
  { id: '26', question: '–ü–æ—Å–ª–µ –ø–æ–ø–∞–¥–∞–Ω–∏—è –∂–∏–¥–∫–æ—Å—Ç–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –º–æ–∂–Ω–æ –ª–∏ –µ—ë –∑–∞–º–µ–Ω–∏—Ç—å?', answer: '–î–∞, –º–æ–∂–Ω–æ. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä –µ—Å—Ç—å —É –Ω–∞—Å –≤ –Ω–∞–ª–∏—á–∏–∏.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞', '–∂–∏–¥–∫–æ—Å—Ç—å'] },
  { id: '27', question: '–°–∏—Å—Ç–µ–º–Ω—ã–π –±–ª–æ–∫ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç', answer: '–ü—Ä–∏—á–∏–Ω –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ: –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞. –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['–∑–∞–≥—Ä—É–∑–∫–∞', '—Å—Ç–∞—Ä—Ç'] },
  { id: '28', question: '–°–∏—Å—Ç–µ–º–Ω—ã–π –±–ª–æ–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—ã–¥–∞–µ—Ç —Å–∏–Ω–∏–π —ç–∫—Ä–∞–Ω –∏ –≥—Ä—É—Å—Ç–Ω—ã–π —Å–º–∞–π–ª–∏–∫', answer: '–í —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –ø—Ä–∏—á–∏–Ω–æ–π –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Å–∏–Ω–µ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞, –ø–µ—Ä–µ–≥—Ä–µ–≤ —Å–∏—Å—Ç–µ–º—ã, –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.', category: '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤', tags: ['BSOD', '–æ—à–∏–±–∫–∞'] },

  // –†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£
  { id: '29', question: '–ü—Ä–∏–Ω—Ç–µ—Ä/–º—Ñ—É –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∏–∑–¥–∞–µ—Ç —Å—Ç—Ä–∞–Ω–Ω—ã–µ –∑–≤—É–∫–∏, —Å–∫—Ä–∏–ø–∏—Ç', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞/–º—Ñ—É. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£', tags: ['–∑–≤—É–∫–∏', '–º–µ—Ö–∞–Ω–∏–∫–∞'] },
  { id: '30', question: '–ü—Ä–∏–Ω—Ç–µ—Ä/–º—Ñ—É –ø—Ä–∏ –ø–µ—á–∞—Ç–∏ –∑–∞–∂–µ–≤—ã–≤–∞–µ—Ç –±—É–º–∞–≥—É, –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 2-3- –ª–∏—Å—Ç–∞ —Å—Ä–∞–∑—É', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–º–æ–Ω—Ç –∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–¥–∞—á–∏ –±—É–º–∞–≥–∏. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£', tags: ['–±—É–º–∞–≥–∞', '–∑–∞–º—è—Ç–∏–µ'] },
  { id: '31', question: '–ü—Ä–∏–Ω—Ç–µ—Ä/–º—Ñ—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—á–∞—Ç–∏ –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –±—É–º–∞–≥—É', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ —Ä–æ–ª–∏–∫–æ–≤ –∑–∞—Ö–≤–∞—Ç–∞ –±—É–º–∞–≥–∏ –∏–ª–∏ —Ä–µ–º–æ–Ω—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞—Ö–≤–∞—Ç–∞ –±—É–º–∞–≥–∏. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£', tags: ['–ø–æ–¥–∞—á–∞ –±—É–º–∞–≥–∏', '—Ä–æ–ª–∏–∫–∏'] },
  { id: '32', question: '–ü—Ä–∏–Ω—Ç–µ—Ä/–º—Ñ—É –ø–ª–æ—Ö–æ —Å—Ç–∞–ª –ø—Ä–æ–ø–µ—á–∞—Ç—ã–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ –∫–∞—Ä—Ç—Ä–∏–¥–∂–∞. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ –≤–∞–ª–∞ –∑–∞—Ä—è–¥–∞ –∏ –ø–µ—á–∫–∏. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£', tags: ['–∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—á–∞—Ç–∏', '–∫–∞—Ä—Ç—Ä–∏–¥–∂'] },
  { id: '33', question: '–ü—Ä–∏–Ω—Ç–µ—Ä/–º—Ñ—É –ø–µ—Ä–µ—Å—Ç–∞–ª –≤–∏–¥–µ—Ç—å –Ω–æ—É—Ç–±—É–∫/–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä', answer: '–¢–∞–∫–∞—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–∏ —Ä–∞–∑—ä–µ–º–∞ USB, —Å–±–æ–µ –≤ —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –∏–ª–∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£', tags: ['–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ', 'USB'] },
  { id: '34', question: '–ú–§–£ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É —Å–∫–∞–Ω–µ—Ä–∞', answer: '–ü—Ä–∏ —Ç–∞–∫–æ–π –æ—à–∏–±–∫–µ —á–∞—Å—Ç–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å—é —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–æ–º–∫–∞ –±–ª–æ–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞ –∏–ª–∏ –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –ú–§–£', tags: ['—Å–∫–∞–Ω–µ—Ä', '–æ—à–∏–±–∫–∞'] },

  // –†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤
  { id: '35', question: '–¢–µ–ª–µ–≤–∏–∑–æ—Ä –ø–µ—Ä–µ—Å—Ç–∞–ª –≤–∫–ª—é—á–∞—Ç—å—Å—è', answer: '–ü—Ä–∏ —Ç–∞–∫–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤', tags: ['–≤–∫–ª—é—á–µ–Ω–∏–µ', '–ø–∏—Ç–∞–Ω–∏–µ'] },
  { id: '36', question: '–£ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞ –ø—Ä–æ–ø–∞–ª–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–æ –∑–≤—É–∫ –µ—Å—Ç—å', answer: '–¢–∏–ø–∏—á–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å—é —è–≤–ª—è–µ—Ç—Å—è –≤—ã—Ö–æ–¥ –∏–∑ —Å—Ç—Ä–æ—è –º–æ–¥—É–ª–µ–π –ø–æ–¥—Å–≤–µ—Ç–∫–∏. –ò–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∞—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã. –¢–∞–∫–æ–π —Ä–µ–º–æ–Ω—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –Ω–∞ –±–∞–∑–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤', tags: ['–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', '–ø–æ–¥—Å–≤–µ—Ç–∫–∞'] },
  { id: '37', question: '–£ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞ –ø–æ—è–≤–∏–ª–∏—Å—å –ø–æ–ª–æ—Å—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—Å–ª–µ —É–¥–∞—Ä–∞/–ø–∞–¥–µ–Ω–∏—è, —ç—Ç–æ –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å?', answer: '–î–∞, –µ—Å–ª–∏ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ (–Ω–µ —Ä–∞–∑–±–∏—Ç–∞). –†–µ–º–æ–Ω—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ—Ä–æ–≥–æ–π. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞, –≤ –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –æ—Ñ–∏—Å –≤ –ú–æ—Å–∫–≤–µ. –¢–∞–∫–æ–π —Ä–µ–º–æ–Ω—Ç –º–æ–∂–µ—Ç –¥–ª–∏—Ç—Å—è –±–æ–ª–µ–µ 30 –¥–Ω–µ–π.', category: '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤', tags: ['—ç–∫—Ä–∞–Ω', '–ø–æ–ª–æ—Å—ã', '–º–∞—Ç—Ä–∏—Ü–∞'] },
  { id: '38', question: '–¢–µ–ª–µ–≤–∏–∑–æ—Ä –ø–æ—Ä–∞–±–æ—Ç–∞–µ—Ç –º–∏–Ω—É—Ç 20 –∏ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å?', answer: '–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏: –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–ª–æ–∫–∞ –ø–∏—Ç–∞–Ω–∏—è –∏–ª–∏ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã. –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–ª–æ–∂–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç –Ω–∞ –±–∞–∑–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞. –ë–æ–ª–µ —Ç–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º—ã —Å–º–æ–∂–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º.', category: '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤', tags: ['–≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è', '–ø–µ—Ä–µ–≥—Ä–µ–≤'] },
  { id: '39', question: '–¢–µ–ª–µ–≤–∏–∑–æ—Ä –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ü–û –ø–µ—Ä–µ—Å—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å', answer: '–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞. –ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, –º—ã –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏.', category: '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤', tags: ['–ü–û', '–ø—Ä–æ—à–∏–≤–∫–∞'] }
];

const iconOptions = [
  'Rocket', 'Settings', 'HelpCircle', 'Link', 'Star', 'Zap', 'UserPlus', 
  'AlertCircle', 'Wrench', 'Book', 'Code', 'Database', 'Shield', 'Users',
  'MessageCircle', 'Package', 'Activity', 'Bell', 'Briefcase', 'Calendar'
];

function SortableCategoryItem({ 
  category, 
  selectedCategory,
  expandedCategories,
  onSelect,
  onToggle,
  onEdit,
  onDelete,
  isAdmin
}: { 
  category: Category;
  selectedCategory: string | null;
  expandedCategories: string[];
  onSelect: (name: string) => void;
  onToggle: (id: string) => void;
  onEdit: (cat: Category) => void;
  onDelete: (id: string, name: string) => void;
  isAdmin: boolean;
}) {
  const {
    attributes,
    listeners,
    setNodeRef,
    transform,
    transition,
    isDragging,
  } = useSortable({ id: category.id });

  const style = {
    transform: CSS.Transform.toString(transform),
    transition,
    opacity: isDragging ? 0.5 : 1,
  };

  return (
    <div ref={setNodeRef} style={style} className="space-y-1">
      <div className="flex items-center gap-1">
        {isAdmin && (
          <div
            {...attributes}
            {...listeners}
            className="cursor-grab active:cursor-grabbing p-1 hover:bg-accent rounded flex-shrink-0"
          >
            <Icon name="GripVertical" size={14} className="text-muted-foreground" />
          </div>
        )}
        <Button
          variant={selectedCategory === category.name ? 'default' : 'ghost'}
          className="flex-1 justify-start text-sm h-9 min-w-0"
          onClick={() => {
            onSelect(category.name);
            if (category.subcategories) {
              onToggle(category.id);
            }
          }}
        >
          <Icon name={category.icon as any} size={16} className="mr-2 flex-shrink-0" />
          <span className="truncate">{category.name}</span>
          {category.subcategories && (
            <Icon
              name={expandedCategories.includes(category.id) ? 'ChevronDown' : 'ChevronRight'}
              size={14}
              className="ml-auto flex-shrink-0"
            />
          )}
        </Button>
        {isAdmin && (
          <>
            <Button
              size="sm"
              variant="ghost"
              className="h-8 w-8 p-0 flex-shrink-0"
              onClick={() => onEdit(category)}
            >
              <Icon name="Edit" size={13} />
            </Button>
            <Button
              size="sm"
              variant="ghost"
              className="h-8 w-8 p-0 text-destructive hover:text-destructive flex-shrink-0"
              onClick={() => onDelete(category.id, category.name)}
            >
              <Icon name="Trash2" size={13} />
            </Button>
          </>
        )}
      </div>
      {category.subcategories && expandedCategories.includes(category.id) && (
        <div className="ml-6 space-y-1">
          {category.subcategories.map((sub) => (
            <div key={sub.id} className="flex items-center gap-1">
              <Button
                variant="ghost"
                size="sm"
                className="flex-1 justify-start"
                onClick={() => onSelect(sub.name)}
              >
                <Icon name={sub.icon as any} size={16} className="mr-2" />
                {sub.name}
              </Button>
              {isAdmin && (
                <>
                  <Button
                    size="sm"
                    variant="ghost"
                    className="h-7 w-7 p-0"
                    onClick={() => onEdit(sub)}
                  >
                    <Icon name="Edit" size={12} />
                  </Button>
                  <Button
                    size="sm"
                    variant="ghost"
                    className="h-7 w-7 p-0 text-destructive hover:text-destructive"
                    onClick={() => onDelete(sub.id, sub.name)}
                  >
                    <Icon name="Trash2" size={12} />
                  </Button>
                </>
              )}
            </div>
          ))}
        </div>
      )}
    </div>
  );
}

export default function KnowledgeBase() {
  const { user } = useAuth();
  const isAdmin = user?.role === 'admin';
  const [categories, setCategories] = useState<Category[]>(initialCategories);
  const [faqs, setFaqs] = useState<FAQItem[]>(() => {
    const saved = localStorage.getItem('kb_faqs');
    return saved ? JSON.parse(saved) : initialFAQs.map(faq => ({ ...faq, views: 0, helpful: 0 }));
  });
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);
  const [expandedCategories, setExpandedCategories] = useState<string[]>(['1']);
  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false);
  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);
  const [isCategoryDialogOpen, setIsCategoryDialogOpen] = useState(false);
  const [isEditCategoryDialogOpen, setIsEditCategoryDialogOpen] = useState(false);
  const [editingFaq, setEditingFaq] = useState<FAQItem | null>(null);
  const [editingCategory, setEditingCategory] = useState<Category | null>(null);
  const [newQuestion, setNewQuestion] = useState({ question: '', answer: '', category: '', tags: '', image: '', video: '' });
  const [newCategory, setNewCategory] = useState({ name: '', icon: 'Folder', parentId: '' });
  const [isAskDialogOpen, setIsAskDialogOpen] = useState(false);
  const [userQuestion, setUserQuestion] = useState({ name: '', email: '', question: '' });
  const [viewStats, setViewStats] = useState(false);

  const sensors = useSensors(
    useSensor(PointerSensor),
    useSensor(KeyboardSensor, {
      coordinateGetter: sortableKeyboardCoordinates,
    })
  );

  const filteredFAQs = faqs.filter(faq => {
    const matchesSearch = searchQuery === '' ||
      faq.question.toLowerCase().includes(searchQuery.toLowerCase()) ||
      faq.answer.toLowerCase().includes(searchQuery.toLowerCase()) ||
      faq.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));
    
    const matchesCategory = !selectedCategory || faq.category === selectedCategory;
    
    return matchesSearch && matchesCategory;
  }).sort((a, b) => {
    if (viewStats) {
      return (b.views || 0) - (a.views || 0);
    }
    return 0;
  });

  const saveFAQs = (updatedFaqs: FAQItem[]) => {
    setFaqs(updatedFaqs);
    localStorage.setItem('kb_faqs', JSON.stringify(updatedFaqs));
  };

  const incrementViews = (faqId: string) => {
    const updatedFaqs = faqs.map(faq =>
      faq.id === faqId ? { ...faq, views: (faq.views || 0) + 1 } : faq
    );
    saveFAQs(updatedFaqs);
  };

  const incrementHelpful = (faqId: string) => {
    const updatedFaqs = faqs.map(faq =>
      faq.id === faqId ? { ...faq, helpful: (faq.helpful || 0) + 1 } : faq
    );
    saveFAQs(updatedFaqs);
    toast({
      title: "–°–ø–∞—Å–∏–±–æ!",
      description: "–í–∞—à –æ—Ç–∑—ã–≤ —É—á—Ç—ë–Ω"
    });
  };

  const toggleCategory = (categoryId: string) => {
    setExpandedCategories(prev =>
      prev.includes(categoryId)
        ? prev.filter(id => id !== categoryId)
        : [...prev, categoryId]
    );
  };

  const handleDragEnd = (event: DragEndEvent) => {
    const { active, over } = event;

    if (over && active.id !== over.id) {
      setCategories((items) => {
        const oldIndex = items.findIndex((item) => item.id === active.id);
        const newIndex = items.findIndex((item) => item.id === over.id);

        return arrayMove(items, oldIndex, newIndex);
      });

      toast({
        title: "–ü–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–µ–Ω",
        description: "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω—ã"
      });
    }
  };

  const handleAddQuestion = () => {
    if (!newQuestion.question || !newQuestion.answer) {
      toast({
        title: "–û—à–∏–±–∫–∞",
        description: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç",
        variant: "destructive"
      });
      return;
    }

    const newFaq: FAQItem = {
      id: Date.now().toString(),
      question: newQuestion.question,
      answer: newQuestion.answer,
      category: newQuestion.category || '–û–±—â–∏–µ',
      tags: newQuestion.tags.split(',').map(t => t.trim()).filter(t => t),
      image: newQuestion.image || undefined,
      video: newQuestion.video || undefined,
      views: 0,
      helpful: 0
    };

    saveFAQs([...faqs, newFaq]);
    setIsAddDialogOpen(false);
    setNewQuestion({ question: '', answer: '', category: '', tags: '', image: '', video: '' });
    
    toast({
      title: "–£—Å–ø–µ—à–Ω–æ!",
      description: "–í–æ–ø—Ä–æ—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π"
    });
  };

  const handleEditQuestion = () => {
    if (!editingFaq || !editingFaq.question || !editingFaq.answer) {
      toast({
        title: "–û—à–∏–±–∫–∞",
        description: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç",
        variant: "destructive"
      });
      return;
    }

    saveFAQs(faqs.map(faq => faq.id === editingFaq.id ? editingFaq : faq));
    setIsEditDialogOpen(false);
    setEditingFaq(null);
    
    toast({
      title: "–£—Å–ø–µ—à–Ω–æ!",
      description: "–í–æ–ø—Ä–æ—Å –æ–±–Ω–æ–≤–ª–µ–Ω"
    });
  };

  const handleDeleteQuestion = (id: string) => {
    saveFAQs(faqs.filter(faq => faq.id !== id));
    toast({
      title: "–£–¥–∞–ª–µ–Ω–æ",
      description: "–í–æ–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π"
    });
  };

  const handleAddCategory = () => {
    if (!newCategory.name) {
      toast({
        title: "–û—à–∏–±–∫–∞",
        description: "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
        variant: "destructive"
      });
      return;
    }

    const categoryToAdd: Category = {
      id: Date.now().toString(),
      name: newCategory.name,
      icon: newCategory.icon,
      count: 0
    };

    if (newCategory.parentId) {
      setCategories(categories.map(cat => {
        if (cat.id === newCategory.parentId) {
          return {
            ...cat,
            subcategories: [...(cat.subcategories || []), categoryToAdd]
          };
        }
        return cat;
      }));
    } else {
      setCategories([...categories, categoryToAdd]);
    }

    setIsCategoryDialogOpen(false);
    setNewCategory({ name: '', icon: 'Folder', parentId: '' });
    
    toast({
      title: "–£—Å–ø–µ—à–Ω–æ!",
      description: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞"
    });
  };

  const handleEditCategory = () => {
    if (!editingCategory || !editingCategory.name) {
      toast({
        title: "–û—à–∏–±–∫–∞",
        description: "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
        variant: "destructive"
      });
      return;
    }

    const updateCategory = (cats: Category[]): Category[] => {
      return cats.map(cat => {
        if (cat.id === editingCategory.id) {
          return { ...editingCategory };
        }
        if (cat.subcategories) {
          return {
            ...cat,
            subcategories: updateCategory(cat.subcategories)
          };
        }
        return cat;
      });
    };

    setCategories(updateCategory(categories));
    setIsEditCategoryDialogOpen(false);
    setEditingCategory(null);
    
    toast({
      title: "–£—Å–ø–µ—à–Ω–æ!",
      description: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
    });
  };

  const handleSubmitQuestion = async () => {
    if (!userQuestion.name || !userQuestion.email || !userQuestion.question) {
      toast({
        title: "–û—à–∏–±–∫–∞",
        description: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è",
        variant: "destructive"
      });
      return;
    }

    const TELEGRAM_BOT_TOKEN = import.meta.env.VITE_TELEGRAM_BOT_TOKEN;
    const TELEGRAM_CHAT_ID = import.meta.env.VITE_TELEGRAM_CHAT_ID || '@element5_irk';

    if (!TELEGRAM_BOT_TOKEN) {
      toast({
        title: "–û—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏",
        description: "–¢–æ–∫–µ–Ω Telegram –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω",
        variant: "destructive"
      });
      return;
    }

    try {
      const message = `üÜò *–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞*\n\nüë§ *–ò–º—è:* ${userQuestion.name}\nüìß *Email:* ${userQuestion.email}\n\n‚ùì *–í–æ–ø—Ä–æ—Å:*\n${userQuestion.question}`;

      const response = await fetch(
        `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,
        {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            chat_id: TELEGRAM_CHAT_ID,
            text: message,
            parse_mode: 'Markdown'
          })
        }
      );

      const result = await response.json();

      if (result.ok) {
        toast({
          title: "–í–æ–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!",
          description: "–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"
        });
        setIsAskDialogOpen(false);
        setUserQuestion({ name: '', email: '', question: '' });
      } else {
        toast({
          title: "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏",
          description: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å –Ω–∞–ø—Ä—è–º—É—é",
          variant: "destructive"
        });
      }
    } catch (error) {
      toast({
        title: "–û—à–∏–±–∫–∞",
        description: "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å",
        variant: "destructive"
      });
    }
  };

  const handleDeleteCategory = (categoryId: string, categoryName: string) => {
    const deleteFromCategories = (cats: Category[]): Category[] => {
      return cats
        .filter(cat => cat.id !== categoryId)
        .map(cat => ({
          ...cat,
          subcategories: cat.subcategories ? deleteFromCategories(cat.subcategories) : undefined
        }));
    };

    setCategories(deleteFromCategories(categories));
    
    if (selectedCategory === categoryName) {
      setSelectedCategory(null);
    }
    
    toast({
      title: "–£–¥–∞–ª–µ–Ω–æ",
      description: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞"
    });
  };

  const openEditDialog = (faq: FAQItem) => {
    setEditingFaq({ ...faq });
    setIsEditDialogOpen(true);
  };

  const openEditCategoryDialog = (category: Category) => {
    setEditingCategory({ ...category });
    setIsEditCategoryDialogOpen(true);
  };

  const getAllCategories = (cats: Category[]): Category[] => {
    let result: Category[] = [];
    cats.forEach(cat => {
      result.push(cat);
      if (cat.subcategories) {
        result = [...result, ...getAllCategories(cat.subcategories)];
      }
    });
    return result;
  };

  const allCategories = getAllCategories(categories);

  return (
    <div className="min-h-screen bg-background">
      <div className="container mx-auto px-4 py-6">
        <div className="mb-6">
          <h1 className="text-3xl font-semibold mb-2 text-foreground">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h1>
          <p className="text-sm text-muted-foreground">
            –ù–∞–π–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ —Ä–µ–º–æ–Ω—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏
          </p>
        </div>

        <div className="mb-6 flex flex-col sm:flex-row gap-3">
          <div className="flex-1 relative">
            <Icon name="Search" className="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground" size={18} />
            <Input
              placeholder="–ü–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              className="pl-10 h-10 text-sm"
            />
          </div>
          
          <Dialog open={isAskDialogOpen} onOpenChange={setIsAskDialogOpen}>
            <DialogTrigger asChild>
              <Button variant="outline" className="h-10 px-4">
                <Icon name="MessageCirclePlus" size={16} className="mr-2" />
                –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
              </Button>
            </DialogTrigger>
            <DialogContent>
              <DialogHeader>
                <DialogTitle className="text-2xl">–ó–∞–¥–∞—Ç—å —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å</DialogTitle>
                <DialogDescription>
                  –ù–µ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç? –û–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏
                </DialogDescription>
              </DialogHeader>
              <div className="space-y-4">
                <div>
                  <Label htmlFor="user-name">–í–∞—à–µ –∏–º—è *</Label>
                  <Input
                    id="user-name"
                    placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
                    value={userQuestion.name}
                    onChange={(e) => setUserQuestion({ ...userQuestion, name: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="user-email">Email *</Label>
                  <Input
                    id="user-email"
                    type="email"
                    placeholder="ivan@example.com"
                    value={userQuestion.email}
                    onChange={(e) => setUserQuestion({ ...userQuestion, email: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="user-question">–í–∞—à –≤–æ–ø—Ä–æ—Å *</Label>
                  <Textarea
                    id="user-question"
                    placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–æ..."
                    rows={5}
                    value={userQuestion.question}
                    onChange={(e) => setUserQuestion({ ...userQuestion, question: e.target.value })}
                  />
                </div>
                <Button onClick={handleSubmitQuestion} className="w-full">
                  <Icon name="Send" size={18} className="mr-2" />
                  –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                </Button>
              </div>
            </DialogContent>
          </Dialog>

          {isAdmin && (
            <Dialog open={isAddDialogOpen} onOpenChange={setIsAddDialogOpen}>
              <DialogTrigger asChild>
                <Button className="h-10 px-4">
                  <Icon name="Plus" size={16} className="mr-2" />
                  –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                </Button>
              </DialogTrigger>
            <DialogContent className="max-w-2xl max-h-[90vh] overflow-y-auto">
              <DialogHeader>
                <DialogTitle className="text-2xl">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å</DialogTitle>
                <DialogDescription>
                  –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
                </DialogDescription>
              </DialogHeader>
              <div className="space-y-4">
                <div>
                  <Label htmlFor="question">–í–æ–ø—Ä–æ—Å *</Label>
                  <Input
                    id="question"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å..."
                    value={newQuestion.question}
                    onChange={(e) => setNewQuestion({ ...newQuestion, question: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="answer">–û—Ç–≤–µ—Ç *</Label>
                  <Textarea
                    id="answer"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..."
                    rows={4}
                    value={newQuestion.answer}
                    onChange={(e) => setNewQuestion({ ...newQuestion, answer: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</Label>
                  <Select value={newQuestion.category} onValueChange={(value) => setNewQuestion({ ...newQuestion, category: value })}>
                    <SelectTrigger>
                      <SelectValue placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é" />
                    </SelectTrigger>
                    <SelectContent>
                      {allCategories.map(cat => (
                        <SelectItem key={cat.id} value={cat.name}>{cat.name}</SelectItem>
                      ))}
                    </SelectContent>
                  </Select>
                </div>
                <div>
                  <Label htmlFor="tags">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</Label>
                  <Input
                    id="tags"
                    placeholder="—Ç–µ–≥1, —Ç–µ–≥2, —Ç–µ–≥3"
                    value={newQuestion.tags}
                    onChange={(e) => setNewQuestion({ ...newQuestion, tags: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="image">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</Label>
                  <Input
                    id="image"
                    placeholder="https://..."
                    value={newQuestion.image}
                    onChange={(e) => setNewQuestion({ ...newQuestion, image: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="video">URL –≤–∏–¥–µ–æ</Label>
                  <Input
                    id="video"
                    placeholder="https://..."
                    value={newQuestion.video}
                    onChange={(e) => setNewQuestion({ ...newQuestion, video: e.target.value })}
                  />
                </div>
                <Button onClick={handleAddQuestion} className="w-full gradient-bg">
                  <Icon name="Plus" size={18} className="mr-2" />
                  –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                </Button>
              </div>
            </DialogContent>
            </Dialog>
          )}
        </div>

        <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>
          <DialogContent className="max-w-2xl max-h-[90vh] overflow-y-auto">
            <DialogHeader>
              <DialogTitle className="text-2xl">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å</DialogTitle>
              <DialogDescription>
                –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–æ–ø—Ä–æ—Å
              </DialogDescription>
            </DialogHeader>
            {editingFaq && (
              <div className="space-y-4">
                <div>
                  <Label htmlFor="edit-question">–í–æ–ø—Ä–æ—Å *</Label>
                  <Input
                    id="edit-question"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å..."
                    value={editingFaq.question}
                    onChange={(e) => setEditingFaq({ ...editingFaq, question: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="edit-answer">–û—Ç–≤–µ—Ç *</Label>
                  <Textarea
                    id="edit-answer"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..."
                    rows={4}
                    value={editingFaq.answer}
                    onChange={(e) => setEditingFaq({ ...editingFaq, answer: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="edit-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</Label>
                  <Select value={editingFaq.category} onValueChange={(value) => setEditingFaq({ ...editingFaq, category: value })}>
                    <SelectTrigger>
                      <SelectValue placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é" />
                    </SelectTrigger>
                    <SelectContent>
                      {allCategories.map(cat => (
                        <SelectItem key={cat.id} value={cat.name}>{cat.name}</SelectItem>
                      ))}
                    </SelectContent>
                  </Select>
                </div>
                <div>
                  <Label htmlFor="edit-tags">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</Label>
                  <Input
                    id="edit-tags"
                    placeholder="—Ç–µ–≥1, —Ç–µ–≥2, —Ç–µ–≥3"
                    value={editingFaq.tags.join(', ')}
                    onChange={(e) => setEditingFaq({ ...editingFaq, tags: e.target.value.split(',').map(t => t.trim()).filter(t => t) })}
                  />
                </div>
                <div>
                  <Label htmlFor="edit-image">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</Label>
                  <Input
                    id="edit-image"
                    placeholder="https://..."
                    value={editingFaq.image || ''}
                    onChange={(e) => setEditingFaq({ ...editingFaq, image: e.target.value || undefined })}
                  />
                </div>
                <div>
                  <Label htmlFor="edit-video">URL –≤–∏–¥–µ–æ</Label>
                  <Input
                    id="edit-video"
                    placeholder="https://..."
                    value={editingFaq.video || ''}
                    onChange={(e) => setEditingFaq({ ...editingFaq, video: e.target.value || undefined })}
                  />
                </div>
                <Button onClick={handleEditQuestion} className="w-full gradient-bg">
                  <Icon name="Save" size={18} className="mr-2" />
                  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </Button>
              </div>
            )}
          </DialogContent>
        </Dialog>

        <Dialog open={isCategoryDialogOpen} onOpenChange={setIsCategoryDialogOpen}>
          <DialogContent>
            <DialogHeader>
              <DialogTitle className="text-2xl">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</DialogTitle>
              <DialogDescription>
                –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–ª–∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
              </DialogDescription>
            </DialogHeader>
            <div className="space-y-4">
              <div>
                <Label htmlFor="cat-name">–ù–∞–∑–≤–∞–Ω–∏–µ *</Label>
                <Input
                  id="cat-name"
                  placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
                  value={newCategory.name}
                  onChange={(e) => setNewCategory({ ...newCategory, name: e.target.value })}
                />
              </div>
              <div>
                <Label htmlFor="cat-icon">–ò–∫–æ–Ω–∫–∞</Label>
                <Select value={newCategory.icon} onValueChange={(value) => setNewCategory({ ...newCategory, icon: value })}>
                  <SelectTrigger>
                    <SelectValue />
                  </SelectTrigger>
                  <SelectContent>
                    {iconOptions.map(icon => (
                      <SelectItem key={icon} value={icon}>
                        <div className="flex items-center gap-2">
                          <Icon name={icon as any} size={16} />
                          {icon}
                        </div>
                      </SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>
              <div>
                <Label htmlFor="cat-parent">–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</Label>
                <Select value={newCategory.parentId || 'none'} onValueChange={(value) => setNewCategory({ ...newCategory, parentId: value === 'none' ? '' : value })}>
                  <SelectTrigger>
                    <SelectValue placeholder="–ë–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è (–∫–æ—Ä–Ω–µ–≤–∞—è)" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="none">–ë–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è (–∫–æ—Ä–Ω–µ–≤–∞—è)</SelectItem>
                    {categories.map(cat => (
                      <SelectItem key={cat.id} value={cat.id}>{cat.name}</SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>
              <Button onClick={handleAddCategory} className="w-full gradient-bg">
                <Icon name="Plus" size={18} className="mr-2" />
                –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
              </Button>
            </div>
          </DialogContent>
        </Dialog>

        <Dialog open={isEditCategoryDialogOpen} onOpenChange={setIsEditCategoryDialogOpen}>
          <DialogContent>
            <DialogHeader>
              <DialogTitle className="text-2xl">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</DialogTitle>
              <DialogDescription>
                –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –∏–∫–æ–Ω–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
              </DialogDescription>
            </DialogHeader>
            {editingCategory && (
              <div className="space-y-4">
                <div>
                  <Label htmlFor="edit-cat-name">–ù–∞–∑–≤–∞–Ω–∏–µ *</Label>
                  <Input
                    id="edit-cat-name"
                    placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
                    value={editingCategory.name}
                    onChange={(e) => setEditingCategory({ ...editingCategory, name: e.target.value })}
                  />
                </div>
                <div>
                  <Label htmlFor="edit-cat-icon">–ò–∫–æ–Ω–∫–∞</Label>
                  <Select value={editingCategory.icon} onValueChange={(value) => setEditingCategory({ ...editingCategory, icon: value })}>
                    <SelectTrigger>
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      {iconOptions.map(icon => (
                        <SelectItem key={icon} value={icon}>
                          <div className="flex items-center gap-2">
                            <Icon name={icon as any} size={16} />
                            {icon}
                          </div>
                        </SelectItem>
                      ))}
                    </SelectContent>
                  </Select>
                </div>
                <Button onClick={handleEditCategory} className="w-full gradient-bg">
                  <Icon name="Save" size={18} className="mr-2" />
                  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </Button>
              </div>
            )}
          </DialogContent>
        </Dialog>

        <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
          <aside className="lg:col-span-1">
            <Card className="sticky top-4 border shadow-sm">
              <CardHeader className="bg-primary text-white">
                <div className="flex items-center justify-between">
                  <div className="flex items-center gap-2">
                    <Icon name="LayoutList" size={20} />
                    <CardTitle className="text-base">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</CardTitle>
                  </div>
                  {isAdmin && (
                    <Dialog open={isCategoryDialogOpen} onOpenChange={setIsCategoryDialogOpen}>
                      <DialogTrigger asChild>
                        <Button size="sm" variant="secondary" className="h-7 w-7 p-0">
                          <Icon name="Plus" size={14} />
                        </Button>
                      </DialogTrigger>
                    </Dialog>
                  )}
                </div>
              </CardHeader>
              <CardContent className="p-4">
                <div className="space-y-2">
                  <Button
                    variant={selectedCategory === null ? 'default' : 'ghost'}
                    className="w-full justify-start"
                    onClick={() => setSelectedCategory(null)}
                  >
                    <Icon name="Home" size={18} className="mr-2" />
                    –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                    <Badge variant="secondary" className="ml-auto">{faqs.length}</Badge>
                  </Button>
                  
                  <DndContext
                    sensors={sensors}
                    collisionDetection={closestCenter}
                    onDragEnd={handleDragEnd}
                  >
                    <SortableContext
                      items={categories.map(c => c.id)}
                      strategy={verticalListSortingStrategy}
                    >
                      {categories.map((category) => (
                        <SortableCategoryItem
                          key={category.id}
                          category={category}
                          selectedCategory={selectedCategory}
                          expandedCategories={expandedCategories}
                          onSelect={setSelectedCategory}
                          onToggle={toggleCategory}
                          onEdit={openEditCategoryDialog}
                          onDelete={handleDeleteCategory}
                          isAdmin={isAdmin}
                        />
                      ))}
                    </SortableContext>
                  </DndContext>
                </div>
              </CardContent>
            </Card>
          </aside>

          <main className="lg:col-span-3">
            <div className="mb-4 flex items-center justify-between animate-fade-in">
              <p className="text-muted-foreground">
                –ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: <span className="font-bold text-foreground">{filteredFAQs.length}</span>
              </p>
              <div className="flex gap-2">
                {isAdmin && (
                  <Button
                    variant={viewStats ? 'default' : 'outline'}
                    size="sm"
                    onClick={() => setViewStats(!viewStats)}
                  >
                    <Icon name={viewStats ? 'BarChart3' : 'BarChart'} size={16} className="mr-1" />
                    {viewStats ? '–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏' : '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'}
                  </Button>
                )}
                {selectedCategory && (
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setSelectedCategory(null)}
                  >
                    <Icon name="X" size={16} className="mr-1" />
                    –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä
                  </Button>
                )}
              </div>
            </div>

            <Accordion type="single" collapsible className="space-y-3">
              {filteredFAQs.map((faq, index) => (
                <AccordionItem
                  key={faq.id}
                  value={faq.id}
                  className="border rounded-lg bg-white shadow-sm hover:shadow-md transition-shadow"
                  style={{ animationDelay: `${index * 0.05}s` }}
                >
                  <AccordionTrigger 
                    className="px-5 py-4 hover:no-underline"
                    onClick={() => incrementViews(faq.id)}
                  >
                    <div className="flex items-start gap-3 text-left flex-1">
                      <div className="mt-0.5 p-2 rounded-md bg-primary/10 flex-shrink-0">
                        <Icon name="HelpCircle" size={20} className="text-primary" />
                      </div>
                      <div className="flex-1 min-w-0">
                        <h3 className="text-base font-semibold text-foreground mb-2">
                          {faq.question}
                        </h3>
                        <div className="flex flex-wrap gap-1.5">
                          <Badge variant="outline" className="text-xs">
                            {faq.category}
                          </Badge>
                          {isAdmin && (
                            <Badge variant="secondary" className="text-xs">
                              <Icon name="Eye" size={11} className="mr-1" />
                              {faq.views || 0}
                            </Badge>
                          )}
                          {faq.tags.slice(0, 3).map((tag) => (
                            <Badge key={tag} variant="secondary" className="text-xs">
                              {tag}
                            </Badge>
                          ))}
                        </div>
                      </div>
                    </div>
                  </AccordionTrigger>
                  <AccordionContent className="px-5 pb-5">
                    <div className="space-y-4">
                      <p className="text-sm leading-relaxed text-muted-foreground pl-11">
                        {faq.answer}
                      </p>
                      {faq.image && (
                        <div className="pl-11">
                          <img
                            src={faq.image}
                            alt="–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è"
                            className="rounded-md border w-full max-w-md"
                          />
                        </div>
                      )}
                      {faq.video && (
                        <div className="pl-11">
                          <div className="aspect-video rounded-md overflow-hidden border max-w-2xl">
                            <iframe
                              src={faq.video}
                              title="–í–∏–¥–µ–æ"
                              className="w-full h-full"
                              allowFullScreen
                            />
                          </div>
                        </div>
                      )}
                      <div className="pl-11 flex flex-wrap gap-2">
                        <Button 
                          variant="outline" 
                          size="sm"
                          onClick={() => incrementHelpful(faq.id)}
                        >
                          <Icon name="ThumbsUp" size={14} className="mr-1" />
                          <span className="text-xs">–ü–æ–ª–µ–∑–Ω–æ {faq.helpful ? `(${faq.helpful})` : ''}</span>
                        </Button>
                        <Button variant="outline" size="sm">
                          <Icon name="Share2" size={14} className="mr-1" />
                          <span className="text-xs">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>
                        </Button>
                        {isAdmin && (
                          <>
                            <Button 
                              variant="outline" 
                              size="sm"
                              onClick={() => openEditDialog(faq)}
                            >
                              <Icon name="Edit" size={16} className="mr-1" />
                              –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                            </Button>
                            <Button 
                              variant="outline" 
                              size="sm"
                              onClick={() => handleDeleteQuestion(faq.id)}
                              className="text-destructive hover:text-destructive"
                            >
                              <Icon name="Trash2" size={16} className="mr-1" />
                              –£–¥–∞–ª–∏—Ç—å
                            </Button>
                          </>
                        )}
                      </div>
                    </div>
                  </AccordionContent>
                </AccordionItem>
              ))}
            </Accordion>

            {filteredFAQs.length === 0 && (
              <Card className="text-center py-12 border-2 animate-fade-in">
                <CardContent>
                  <Icon name="SearchX" size={64} className="mx-auto text-muted-foreground mb-4" />
                  <h3 className="text-2xl font-bold mb-2">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                  <p className="text-muted-foreground mb-6">
                    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                  </p>
                  <div className="flex gap-3 justify-center">
                    <Button onClick={() => { setSearchQuery(''); setSelectedCategory(null); }}>
                      –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã
                    </Button>
                    <Button variant="outline" onClick={() => setIsAskDialogOpen(true)}>
                      <Icon name="MessageCirclePlus" size={18} className="mr-2" />
                      –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
                    </Button>
                  </div>
                </CardContent>
              </Card>
            )}
          </main>
        </div>
      </div>
    </div>
  );
}